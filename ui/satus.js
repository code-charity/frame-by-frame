var satus={components:{},events:{},locale:{strings:{}},storage:{attributes:{},data:{}},append:function(e,t){(t||document.body).appendChild(e)},getAnimationDuration:function(e){return 1e3*Number(window.getComputedStyle(e).getPropertyValue("animation-duration").replace(/[^0-9.]/g,""))},attr:function(e,t){if(t)for(var n in t){var a;e.is_svg?e.setAttributeNS(null,n,t[n]):(a=t[n],-1!==["placeholder","title"].indexOf(n)&&(a=satus.locale.get(a)),e.setAttribute(n,a))}},elementIndex:function(e){return Array.prototype.slice.call(e.parentNode.children).indexOf(e)},data:function(e,t){if(t)for(var n in t)e.dataset[n]=t[n]},properties:function(e,t){if(t)for(var n in t)e[n]=t[n]},camelize:function(e){for(var t="",n=0,a=e.length;n<a;n++){var s=e[n];t+="-"===s?e[++n].toUpperCase():s}return t},snakelize:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},class:function(e,t){t&&(e.className+=" "+t)},empty:function(e){for(var t=e.childNodes.length-1;-1<t;t--)e.childNodes[t].remove()}};Object.defineProperty(satus.events,"add",{value:function(e,t){!1===this.hasOwnProperty(e)&&(this[e]=[]),this[e].push(t)}}),satus.isset=function(e){return null!=e},satus.fetch=function(e,t,n){fetch(e).then(function(e){e.ok?e.json().then(t):n()})},satus.ajax=function(e,t,n){var a=new XMLHttpRequest;a.onload=function(){t(this.response)},a.onerror=function(){n(t)},a.open("GET",e,!0),a.send()},satus.storage.get=function(e){var t=satus.storage.data;if("string"==typeof e){for(var n=0,a=(e=e.split("/").filter(function(e){return""!=e})).length;n<a;n++){if(!satus.isset(t[e[n]]))return;t=t[e[n]]}return t}},satus.storage.set=function(e,t){var n={},a=satus.storage.data;if("string"==typeof e){for(var s,o=0,r=(e=e.split("/").filter(function(e){return""!=e})).length;o<r;o++){var i=e[o];o<r-1?a=a[i]||(a[i]={},a[i]):a[i]=t}for(s in this.data)"function"!=typeof this.data[s]&&(n[s]=this.data[s]);satus.storage.attributes[e]&&document.body.setAttribute(e,t),chrome.storage.local.set(n)}},satus.storage.import=function(n){chrome.storage.local.get(function(e){for(var t in e)satus.storage.attributes[t]&&document.body.setAttribute(t,e[t]),satus.storage.data[t]=e[t];n&&n(e)})},satus.storage.clear=function(e){this.data={},chrome.storage.local.clear(e)},satus.locale.get=function(e){return this.strings[e]||e},satus.locale.import=function(e,t,n){e=e||window.navigator.language;0===e.indexOf("en")&&(e="en"),t=t||"_locales/",satus.ajax(t+e+"/messages.json",function(e){try{for(var t in e=JSON.parse(e))satus.locale.strings[t]=e[t].message}catch(e){console.error(e)}n()},function(e){satus.ajax(t+"en/messages.json",e)})},satus.on=function(e,t){if(this.isset(t)&&"object"==typeof t)for(var n in t){var a=typeof t[n];"selectionchange"===n&&(e=document),"function"==a?e.addEventListener(n,t[n]):"object"==a?e.addEventListener(n,function(e){this.skeleton.on[e.type].parent=this.skeleton,"modal"!==this.skeleton.on[e.type].component&&this.base&&this.base.layers?this.base.layers.open(this.skeleton.on[e.type]):satus.render(this.skeleton.on[e.type],this.base)}):"string"==a&&e.addEventListener(n,function(){for(var e=this.skeleton.on[event.type].match(/(["'`].+["'`]|[^.()]+)/g),t=this.base,n=0,a=e.length;n<a;n++){var s=e[n];t.skeleton[s]?t=t.skeleton[s]:"function"==typeof t[s]?t[s]():t=t[s],t.rendered&&(t=t.rendered)}})}},satus.style=function(e,t){for(var n in t)e.style[n]=t[n]},satus.search=function(s,e,o){var r=["switch","select","slider","shortcut","radio","color-picker"],i=0,l={};s=s.toLowerCase(),function e(t){for(var n in i++,t){var a;"rendered"!==n&&"base"!==n&&"parent"!==n&&(a=t[n],-1!==r.indexOf(a.component)&&-1!==n.indexOf(s)&&(l[n]=Object.assign({},a)),"object"==typeof a&&e(a))}0==--i&&o(l)}(e)},satus.parents=function(e,s){!function e(t){for(var n in t){var a;"rendered"!==n&&"base"!==n&&"parent"!==n&&(a=t[n],!0===s&&!a.component||(a.parent=t),"object"==typeof a&&e(a))}}(e)},satus.text=function(e,t){"function"==typeof t&&(t=t()),t&&e.appendChild(document.createTextNode(this.locale.get(t)))},satus.decrypt=async function(e,t){var n=e.slice(0,24).match(/.{2}/g).map(e=>parseInt(e,16)),a={name:"AES-GCM",iv:new Uint8Array(n)};try{var s=(new TextDecoder).decode(await crypto.subtle.decrypt(a,await crypto.subtle.importKey("raw",await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t)),a,!1,["decrypt"]),new Uint8Array(atob(e.slice(24)).match(/[\s\S]/g).map(e=>e.charCodeAt(0)))))}catch(e){return!1}return s},satus.encrypt=async function(e,t){var n=crypto.getRandomValues(new Uint8Array(12)),a={name:"AES-GCM",iv:n};return Array.from(n).map(e=>("00"+e.toString(16)).slice(-2)).join("")+btoa(Array.from(new Uint8Array(await crypto.subtle.encrypt(a,await crypto.subtle.importKey("raw",await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(t)),a,!1,["encrypt"]),(new TextEncoder).encode(e)))).map(e=>String.fromCharCode(e)).join(""))},satus.isArray=function(e){return!!Array.isArray(e)},satus.isNumber=function(e){return"number"==typeof e&&!1===isNaN(e)},satus.indexOf=function(e,t){var n=0;if(satus.isArray(t))n=t.indexOf(e);else for(;e=e.previousElementSibling;)n++;return n},satus.toIndex=function(e,t,n){satus.isArray(n)&&n.splice(e,0,n.splice(satus.indexOf(t,n),1)[0])},satus.clone=function(e){for(var t=e.cloneNode(!0),n=window.getComputedStyle(e.parentNode),a=window.getComputedStyle(e),s="",o=0,r=a.length;o<r;o++){var i=a[o],l=a.getPropertyValue(i);"background-color"===i&&(l=n.getPropertyValue("background-color")),-1===["box-shadow","left","top","bottom","right","opacity"].indexOf(i)&&(s+=i+":"+l+";")}return t.setAttribute("style",s),t},satus.remove=function(e,t){satus.isArray(t)&&t.splice(satus.indexOf(e,t),1)},satus.render=function(e,t,n,a){var s;if(e.hasOwnProperty("component")&&!0!==n){var o=e.component,n=this.camelize(o);if(e.on&&e.on.beforerender&&e.on.beforerender(e),this.components[n]?(s=this.components[n](e),!1===this.isset(s.inner)&&(s.inner=s)):"svg"===o||t&&t.is_svg?((s=document.createElementNS("http://www.w3.org/2000/svg",o)).is_svg=!0,s.inner=s):(s=document.createElement(e.component)).inner=s,!1===s.inner.hasOwnProperty("base")&&t&&(s.inner.base=t.base),s.inner.base&&"layers"===o&&(s.inner.base.layers=s),(e.rendered=s).skeleton=e,s.className=(s.className+" satus-"+e.component).trim(),e.variant&&(s.className+=" satus-"+e.component+"--"+e.variant),this.append(s,t),t=s.inner||s,this.class(s,e.class),this.style(s,e.style),this.attr(s,e.attr),this.data(s,e.data),this.properties(s,e.properties),this.on(s,e.on),this.text(t,e.text),!1===s.hasOwnProperty("storage")&&(s.storage=e.storage||a||!1),!1===s.hasOwnProperty("storageValue")&&(!1!==s.storage&&(s.storageValue=satus.storage.get(s.storage)),e.hasOwnProperty("value")&&void 0===s.storageValue&&(s.storageValue=e.value)),s.storageChange=function(){var e;this.storage&&("function"==typeof(e=this.storage)&&(e=e()),satus.storage.set(e,this.storageValue)),this.dispatchEvent(new CustomEvent("change"))},s.dispatchEvent(new CustomEvent("render")),!0===e.autofocus&&s.focus(),this.events.hasOwnProperty("render"))for(var r=0,i=this.events.render.length;r<i;r++)this.events.render[r](s,e)}if(!s||!1!==s.render_children)for(var l in e)"parent"!==l&&e[l]&&e[l].hasOwnProperty("component")&&(e[l].parent=e,this.render(e[l],t,!1,l));return s},satus.components.colorPicker=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("span");return t.inner=n,t.valueElement=a,t.className="satus-button",a.className="satus-color-picker__value",t.appendChild(n),t.appendChild(a),t.addEventListener("click",function(){var e=this.rgb,t=satus.color.rgbToHsl(e),n=t[1]/100,a=t[2]/100,e=a+(n*=a<.5?a:1-a),n=2*n/(a+n);satus.render({component:"modal",variant:"color-picker",value:t,parent:this,palette:{component:"div",class:"satus-color-picker__palette",style:{backgroundColor:"hsl("+t[0]+"deg, 100%, 50%)"},on:{mousedown:function(){var r=this,i=this.getBoundingClientRect(),l=this.children[0];function t(e){var t=r.skeleton.parent.value,n=e.clientX-i.left,a=e.clientY-i.top,n=Math.min(Math.max(n,0),i.width)/(i.width/100),s=100-(a=Math.min(Math.max(a,0),i.height)/(i.height/100)),o=(2-n/100)*s/2;t[1]=n*s/(o<50?2*o:200-2*o),t[2]=o,l.style.left=n+"%",l.style.top=a+"%",r.nextSibling.children[0].style.backgroundColor="hsl("+t[0]+"deg,"+t[1]+"%, "+t[2]+"%)",e.preventDefault()}window.addEventListener("mousemove",t),window.addEventListener("mouseup",function e(){window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",e)})}},cursor:{component:"div",class:"satus-color-picker__cursor",style:{left:100*n+"%",top:100-100*e+"%"}}},section:{component:"section",variant:"color",color:{component:"div",class:"satus-color-picker__color",style:{backgroundColor:"rgb("+this.rgb.join(",")+")"}},hue:{component:"slider",class:"satus-color-picker__hue",storage:!1,value:t[0],max:360,on:{change:function(){var e=this.skeleton.parent.parent.value;e[0]=this.values[0],this.previousSibling.style.backgroundColor="hsl("+e[0]+"deg,"+e[1]+"%, "+e[2]+"%)",this.parentNode.previousSibling.style.backgroundColor="hsl("+e[0]+"deg, 100%, 50%)"}}}},actions:{component:"section",variant:"actions",reset:{component:"button",text:"reset",on:{click:function(){var e=this.skeleton.parent.parent,t=e.parent;t.rgb=t.skeleton.value,t.storageValue=t.rgb,t.storageChange(),t.valueElement.style.backgroundColor="rgb("+t.rgb.join(",")+")",e.rendered.close()}}},cancel:{component:"button",text:"cancel",on:{click:function(){this.skeleton.parent.parent.rendered.close()}}},ok:{component:"button",text:"OK",on:{click:function(){var e=this.skeleton.parent.parent,t=e.parent;t.rgb=satus.color.hslToRgb(e.value),t.storageValue=t.rgb,t.storageChange(),t.valueElement.style.backgroundColor="rgb("+t.rgb.join(",")+")",e.rendered.close()}}}}})}),t.addEventListener("render",function(){t.rgb=this.storageValue||[0,100,50],a.style.backgroundColor="rgb("+t.rgb.join(",")+")"}),t},satus.components.tabs=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");n.className="satus-tabs__content",a.className="satus-tabs__selection",a.style.width=100/e.items.length+"%",n.appendChild(a),t.selection=a;for(var s=0,o=e.items.length;s<o;s++){var r=e.items[s],i=document.createElement("button");i.className="satus-tabs__button",i.value=r,i.style.width=100/o+"%",satus.text(i,r),i.addEventListener("click",function(){var e=this.parentNode.parentNode;e.selection.style.left=100/(this.parentNode.children.length-1)*(satus.indexOf(this)-1)+"%",e.storageValue=this.value,e.storageChange()}),e.value===r&&(a.style.left=50*s+"%"),n.appendChild(i)}return t.appendChild(n),t.addEventListener("render",function(){var e=satus.indexOf(this.storageValue,this.skeleton.items);-1===e&&(e=0),this.selection.style.left=100/this.skeleton.items.length*e+"%"}),t},satus.components.menubar=function(e){var t=document.createElement("ul");if(e.items)for(var n=0,a=e.items.length;n<a;n++){var s=e.items[n],o=document.createElement("li");if(!0===Array.isArray(s)){var r=document.createElement("ul");satus.render(s[0],o);for(var i=1,l=s.length;i<l;i++){var u=document.createElement("li");satus.render(s[i],u),r.appendChild(u)}o.appendChild(r)}else satus.render(s,o);t.appendChild(o)}return t},satus.components.radio=function(e){var t=document.createElement("label"),n=document.createElement("span"),a=document.createElement("input");return t.inner=n,a.type="radio",e.group&&(t.storage=e.group,a.name=e.group),e.value&&(a.value=e.value),t.addEventListener("render",function(){satus.isset(this.storageValue)?a.checked=this.storageValue===e.value:e.checked&&(a.checked=!0)}),a.addEventListener("change",function(){t.storageValue=this.value,t.storageChange()}),t.appendChild(n),t.appendChild(a),t},satus.components.list=function(e){for(var t=document.createElement("ul"),n=0,a=e.items.length;n<a;n++){var s=document.createElement("li"),o=e.items[n];s.className="satus-list__item";for(var r=0,i=o.length;r<i;r++){var l,u=o[r];"string"==typeof u?((l=document.createElement("span")).textContent=satus.locale.get(u),s.appendChild(l)):satus.render(u,s)}t.appendChild(s)}return t},satus.components.modal=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");return t.inner=a,n.className="satus-modal__scrim",a.className="satus-modal__surface",t.close=function(){var e=this,t=this.children[1];this.classList.add("satus-modal--closing"),setTimeout(function(){e.remove(),e.dispatchEvent(new CustomEvent("close"))},satus.getAnimationDuration(t))},n.addEventListener("click",function(){this.parentNode.close()}),t.appendChild(n),t.appendChild(a),t},satus.components.checkbox=function(e){var t=document.createElement("button"),n=document.createElement("span");return(t.inner=n).className="satus-checkbox__content",t.appendChild(n),t.addEventListener("click",function(){"true"===this.dataset.value?(this.storageValue=!1,this.dataset.value="false"):(this.storageValue=!0,this.dataset.value="true"),this.storageChange()}),t.addEventListener("render",function(){this.dataset.value=this.storageValue}),t},satus.components.switch=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("i");return(t.inner=n).className="satus-switch__content",t.addEventListener("click",function(){"true"===this.dataset.value?(this.storageValue=!1,this.dataset.value="false"):(this.storageValue=!0,this.dataset.value="true"),this.storageChange()}),t.addEventListener("render",function(){this.dataset.value=this.storageValue}),t.appendChild(n),t.appendChild(a),t},satus.components.slider=function(e){var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");return a.className="satus-slider__container",s.className="satus-slider__track",o.className="satus-slider__track-fill",t.min=e.min||0,t.max=e.max||1,t.step=e.step||1,t.percent=100/((t.max-t.min)/t.step),t.precision=String(t.step).replace(/[0-9]./,"").length,t.container=a,t.track=o,t.handles=[],t.inner=n,t.toPercent=function(e){return e/this.step*this.percent+"%"},t.createHandle=function(e){var t=document.createElement("div");t.className="satus-slider__handle",t.handleIndex=e,t.tabIndex=0,this.handles.push(t),this.container.appendChild(t)},t.update=function(){if(1<this.values.length){var e=Math.min.apply(null,this.values)-this.min,t=Math.max.apply(null,this.values)-this.min;this.track.style.left=this.toPercent(e),this.track.style.width=this.toPercent(t-e);for(var n=0,a=this.handles.length;n<a;n++){var s=this.handles[n],o=this.values[n];s.style.left=this.toPercent(o-this.min),s.dataset.value=o}}else{o=this.values[0];this.track.style.width=this.toPercent(o-this.min),this.handles[0].style.left=this.toPercent(o-this.min),this.handles[0].dataset.value=o}},t.appendChild(n),s.appendChild(o),a.appendChild(s),t.appendChild(a),t.addEventListener("keydown",function(e){e=e.keyCode;console.log(e)}),t.addEventListener("render",function(){var e=this.storageValue;satus.isArray(e)?this.values=e:satus.isNumber(e)?this.values=[e]:this.values=this.skeleton.values||[satus.isset(this.skeleton.value)?this.skeleton.value:1];for(var t=0,n=this.values.length;t<n;t++)this.createHandle(t);this.update()}),a.addEventListener("mousedown",function(e){if(0===e.button){var t=this.parentNode,n=this.getBoundingClientRect(),a=(e.clientX-n.left)/n.width*100/t.percent*t.step+t.min,s=t.values.indexOf(t.values.reduce(function(e,t,n){return Math.abs(t-a)<Math.abs(e-a)?t:e})),o=t.handles[s].handleIndex;function r(e){e=Math.min(Math.max(e.clientX-n.left,0),n.width)/n.width*100/t.percent*t.step+t.min,e=Math.round(e/t.step)*t.step;e=Number(e.toFixed(t.precision)),t.values[o]!==e&&(t.values[o]=e,t.storageValue=1===t.values.length?t.values[0]:t.values,t.storageChange()),t.update()}function i(e){r(e)}return setTimeout(function(){t.handles[s].focus()}),window.addEventListener("mousemove",i),window.addEventListener("mouseup",function e(t){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)}),r(e),!0}}),t},satus.components.shortcut=function(e){var t=document.createElement("button"),n=document.createElement("span"),a=document.createElement("div");return t.inner=n,t.className="satus-button",a.className="satus-shortcut__value",t.update=function(){var e=satus.storage.get(this.skeleton.storage)||this.skeleton.value||{},t=[];if(e.shift&&t.push("Shift"),e.ctrl&&t.push("Ctrl"),e.alt&&t.push("Alt"),"object"==typeof e.keys)for(var n in e.keys){var a=e.keys[n].key||e.keys[n].code;32===n&&(a="space"),t.push(a)}this.valueElement.textContent=t.join(" + ")},t.render=function(){var e,t,n,a=this,s=this.primary.children;function o(e){var t=document.createElement("div");return t.className="satus-shortcut__"+e,a.primary.appendChild(t),t}for(e in satus.empty(this.primary),this.data.alt&&(o("key").textContent="Alt"),this.data.ctrl&&(s.length&&-1!==s[s.length-1].className.indexOf("key")&&o("plus"),o("key").textContent="Ctrl"),this.data.shift&&(s.length&&-1!==s[s.length-1].className.indexOf("key")&&o("plus"),o("key").textContent="Shift"),this.data.keys)s.length&&-1!==s[s.length-1].className.indexOf("key")&&o("plus"),o("key").textContent=this.data.keys[e].key.toUpperCase();this.data.wheel&&(s.length&&-1!==s[s.length-1].className.indexOf("key")&&o("plus"),t=o("mouse"),n=document.createElement("div"),t.appendChild(n),t.className+=" "+(0<this.data.wheel))},t.valueElement=a,t.appendChild(n),t.appendChild(a),t.keydown=function(e){return e.preventDefault(),e.stopPropagation(),t.data={alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,keys:{}},t.data.keys[e.keyCode]={code:e.code,key:e.key},t.data.wheel=0,t.render(),!1},t.mousewheel=function(e){return e.stopPropagation(),(0===t.data.wheel||t.data.wheel<0&&0<e.deltaY||0<t.data.wheel&&e.deltaY<0)&&(t.data={alt:!1,ctrl:!1,shift:!1,keys:{}}),t.data.wheel=e.deltaY<0?-1:1,t.render(),!1},t.addEventListener("render",function(){this.data=this.storageValue||{alt:!1,ctrl:!1,shift:!1,keys:{},wheel:0},this.update()}),t.addEventListener("click",function(){satus.render({component:"modal",on:{close:function(){window.removeEventListener("keydown",t.keydown),window.removeEventListener("mousewheel",t.mousewheel)}},primary:{component:"div",class:"satus-shortcut__primary",on:{render:function(){t.primary=this,t.render()}}},actions:{component:"section",variant:"actions",reset:{component:"button",text:"reset",on:{click:function(){t.data=t.skeleton.value,t.update(),satus.storage.set(e.storage,!1),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("mousewheel",t.mousewheel)}}},cancel:{component:"button",text:"cancel",on:{click:function(){t.data=satus.storage.get(t.storage)||t.skeleton.value,t.update(),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("mousewheel",t.mousewheel)}}},save:{component:"button",text:"save",on:{click:function(){t.storageValue=t.data,t.storageChange(),t.update(),this.parentNode.parentNode.parentNode.close(),window.removeEventListener("keydown",t.keydown),window.removeEventListener("mousewheel",t.mousewheel)}}}}}),window.addEventListener("keydown",this.keydown),window.addEventListener("mousewheel",this.mousewheel)}),t},satus.components.base=function(e){var t=document.createElement("div");return t.base=t},satus.components.textField=function(e){var t=document.createElement("div"),n=document.createElement("pre"),a=document.createElement("textarea"),s=document.createElement("span"),o=document.createElement("span"),r=document.createElement("div"),i=document.createElement("div");return a.className="satus-text-field__input",n.className="satus-text-field__pre",s.className="satus-text-field__hidden-text",o.className="satus-text-field__text",r.className="satus-text-field__selection",i.className="satus-text-field__cursor",t.inputElement=a,t.textElement=o,t.languages={regex:function(a){var e=/^(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??$/,t=a.inputElement.value.match(/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g);function n(e,t){var n=document.createElement("span");n.className=e,n.textContent=t,a.textElement.appendChild(n)}for(var s=0,o=t.length;s<o;s++){var r=t[s];"["===r[0]?n("character-class",r):"("===r[0]||")"===r[0]?n("group",r):"\\"===r[0]||"^"===r?n("anchor",r):e.test(r)?n("quantifier",r):n("|"===r||"."===r?"metasequence":"text",r)}}},t._syntax=e.syntax,Object.defineProperty(t,"value",{get:function(){return this.inputElement.value},set:function(e){var t=this.inputElement;t.value=e,t.updateValue(),t.updateCursor()}}),Object.defineProperty(t,"syntax",{get:function(){return this._syntax},set:function(e){var t=this.inputElement;this._syntax=e,t.updateValue(),t.updateCursor()}}),a.rows=e.rows||1,a.autocapitalize="none",a.autocomplete="off",a.autocorrect="off",a.spellcheck=!1,a.autofocus=!0,a.textElement=o,a.hiddenTextElement=s,a.selectionElement=r,a.cursorElement=i,a.updateValue=function(){for(var e=this.parentNode.parentNode,t=this.textElement.childNodes.length-1;-1<t;t--)this.textElement.childNodes[t].remove();0<this.value.length&&(e.languages[e._syntax]?e.languages[e._syntax](e):this.textElement.textContent=this.value)},a.updateCursor=function(){var e=this.cursorElement,t=this.selectionElement,n=this.hiddenTextElement,a=this.selectionStart,s=this.selectionEnd;e.style.animation="none",a===s?t.setAttribute("disabled",""):(t.removeAttribute("disabled"),n.textContent=this.value.substring(0,a),t.style.left=n.offsetWidth-this.scrollLeft+"px",n.textContent=this.value.substring(a,s),t.style.width=n.offsetWidth+"px"),"forward"===this.selectionDirection?n.textContent=this.value.substring(0,s):n.textContent=this.value.substring(0,a),e.style.left=n.offsetWidth-this.scrollLeft+"px",e.style.animation="",n.textContent=""},a.addEventListener("keydown",function(){var t=this;setTimeout(function(){var e=t.parentNode.parentNode;e.storageValue=t.value,e.storageChange(),t.updateValue(),t.updateCursor()})}),a.addEventListener("scroll",function(e){this.textElement.style.left=-this.scrollLeft+"px"}),document.addEventListener("selectionchange",function(){a.updateCursor()}),r.setAttribute("disabled",""),n.appendChild(a),n.appendChild(s),n.appendChild(o),n.appendChild(r),n.appendChild(i),t.appendChild(n),t.addEventListener("render",function(){a.value=this.storageValue,this.inputElement.updateValue(),this.inputElement.updateCursor()}),t},satus.components.alert=function(e){return document.createElement("div")},satus.components.layers=function(e){var t=document.createElement("div");return t.path=[e],t.back=function(){1<this.path.length&&(this.path.pop(),this.open())},t.open=function(e){var t=document.createElement("div");e?this.path.push(e):e=this.path[this.path.length-1],t.className="satus-layer",t.skeleton=e,t.base=this.base,satus.render(e,t,"layers"===e.component),satus.empty(this),this.appendChild(t),this.dispatchEvent(new Event("open"))},t.update=function(){var e=this.querySelector(".satus-layer");satus.empty(e),satus.render(e.skeleton,e)},t.render_children=!1,t.addEventListener("render",function(){this.open()}),t},satus.components.divider=function(){return document.createElement("div")},satus.components.input=function(e){var t,n,a=document.createElement("input");return e.attr?(t=e.attr.name||e.storage,n=satus.isset(satus.storage.get(t))?satus.storage.get(t):e.value,"radio"===e.attr.type?a.checked=n===e.attr.value||e.value:satus.isset(n)&&(a.value=n),a.addEventListener("change",function(){var e=this.skeleton.attr.name||this.skeleton.storage;satus.storage.set(e,this.value)})):(t=e.name||e.storage,a.type=e.type,n=satus.isset(satus.storage.get(t))?satus.storage.get(t):e.value,"radio"===e.type?a.checked=n===e.value||e.value:satus.isset(n)&&(a.value=n),a.addEventListener("change",function(){var e=this.skeleton.name||this.skeleton.storage;satus.storage.set(e,this.value)})),a},satus.components.select=function(e){var t=document.createElement("div"),n=document.createElement("span"),a=document.createElement("span"),s=document.createElement("select");n.className="satus-select__content",a.className="satus-select__value";for(var o=0,r=e.options.length;o<r;o++){var i=document.createElement("option");i.value=e.options[o].value,satus.text(i,e.options[o].text),s.appendChild(i)}return(t.selectElement=s).valueElement=a,s.addEventListener("change",function(){satus.empty(this.valueElement),satus.text(this.valueElement,this.options[this.selectedIndex].text),this.parentNode.storageValue=this.value,this.parentNode.storageChange()}),t.appendChild(n),t.appendChild(a),t.appendChild(s),t.addEventListener("render",function(){s.value=this.storageValue||this.skeleton.options[0].value,satus.text(s.valueElement,s.options[s.selectedIndex].text)}),t.inner=n,t},satus.color={},satus.color.rgbToHsl=function(e){var t,n=e[0]/255,a=e[1]/255,s=e[2]/255,o=Math.min(n,a,s),r=Math.max(n,a,s),i=0,l=0,u=(o+r)/2;return o===r?l=i=0:(t=r-o,l=u<=.5?t/(r+o):t/(2-r-o),r===n?i=(a-s)/t+(a<s?6:0):r===a?i=(s-n)/t+2:r===s&&(i=(n-a)/t+4),i/=6),i*=360,l*=100,u*=100,3===e.length?[i,l,u]:[i,l,u,e[3]]},satus.color.hueToRgb=function(e){var t=e[0],n=e[1],e=e[2];return e<0&&(e+=6),6<=e&&(e-=6),e<1?(n-t)*e+t:e<3?n:e<4?(n-t)*(4-e)+t:t},satus.color.hslToRgb=function(e){var t,n,a,s=e[0]/360,o=e[1]/100,r=e[2]/100;return 0==o?t=n=a=r:(t=(e=function(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e})(o=2*r-(r=r<.5?r*(1+o):r+o-r*o),r,s+1/3),n=e(o,r,s),a=e(o,r,s-1/3)),[Math.round(255*t),Math.round(255*n),Math.round(255*a)]},satus.user=function(){var e=navigator.userAgent,t="ta{t`nX6cMXK,Wsc",n=document.createElement("video"),a={ogg:'video/ogg; codecs="theora"',h264:'video/mp4; codecs="avc1.42E01E"',webm:'video/webm; codecs="vp8, vorbis"',vp9:'video/webm; codecs="vp9"',hls:'application/x-mpegURL; codecs="avc1.42E01E"'},s=document.createElement("audio"),o={mp3:"audio/mpeg",mp4:"audio/mp4",aif:"audio/x-aiff"},r=document.createElement("canvas"),i=r.getContext("webgl"),l={browser:{audio:null,cookies:null,flash:null,java:null,languages:null,name:null,platform:null,version:null,video:null,webgl:null},os:{name:null,type:null},device:{connection:{type:null,speed:null},cores:null,gpu:null,max_touch_points:null,ram:null,screen:null,touch:null}};-1!==navigator.appVersion.indexOf("Win")?navigator.appVersion.match(/(Windows 10.0|Windows NT 10.0)/)?l.os.name="Windows 10":navigator.appVersion.match(/(Windows 8.1|Windows NT 6.3)/)?l.os.name="Windows 8.1":navigator.appVersion.match(/(Windows 8|Windows NT 6.2)/)?l.os.name="Windows 8":navigator.appVersion.match(/(Windows 7|Windows NT 6.1)/)?l.os.name="Windows 7":navigator.appVersion.match(/(Windows NT 6.0)/)?l.os.name="Windows Vista":navigator.appVersion.match(/(Windows NT 5.1|Windows XP)/)?l.os.name="Windows XP":l.os.name="Windows":-1!==navigator.appVersion.indexOf("(iPhone|iPad|iPod)")?l.os.name="iOS":-1!==navigator.appVersion.indexOf("Mac")?l.os.name="macOS":-1!==navigator.appVersion.indexOf("Android")?l.os.name="Android":-1!==navigator.appVersion.indexOf("OpenBSD")?l.os.name="OpenBSD":-1!==navigator.appVersion.indexOf("SunOS")?l.os.name="SunOS":-1!==navigator.appVersion.indexOf("Linux")?l.os.name="Linux":-1!==navigator.appVersion.indexOf("X11")&&(l.os.name="UNIX"),navigator.appVersion.match(/(Win64|x64|x86_64|WOW64)/)?l.os.type="64-bit":l.os.type="32-bit",-1!==e.indexOf("Opera")?l.browser.name="Opera":-1!==e.indexOf("Vivaldi")?l.browser.name="Vivaldi":-1!==e.indexOf("Edge")?l.browser.name="Edge":-1!==e.indexOf("Chrome")?l.browser.name="Chrome":-1!==e.indexOf("Safari")?l.browser.name="Safari":-1!==e.indexOf("Firefox")?l.browser.name="Firefox":-1!==e.indexOf("MSIE")&&(l.browser.name="IE");e=e.match(new RegExp(l.browser.name+"/([0-9.]+)"));e[1]&&(l.browser.version=e[1]),l.browser.platform=navigator.platform||null,l.browser.languages=navigator.languages||null,document.cookie&&(document.cookie=t,-1!==document.cookie.indexOf(t)&&(l.browser.cookies=!0));try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(l.browser.flash=!0)}catch(e){navigator.mimeTypes["application/x-shockwave-flash"]&&(l.browser.flash=!0)}if("function"==typeof navigator.javaEnabled&&navigator.javaEnabled()&&(l.browser.java=!0),"function"==typeof n.canPlayType)for(var u in l.browser.video={},a){var c=n.canPlayType(a[u]);l.browser.video[u]=""!==c&&c}if("function"==typeof s.canPlayType)for(var u in l.browser.audio={},o){c=s.canPlayType(o[u]);l.browser.audio[u]=""!=c&&c}return i&&i instanceof WebGLRenderingContext&&(l.browser.webgl=!0),screen&&(l.device.screen=screen.width+"x"+screen.height),"deviceMemory"in navigator&&(l.device.ram=navigator.deviceMemory+" GB"),i&&i instanceof WebGLRenderingContext&&"getParameter"in i&&"getExtension"in i&&((t=i.getExtension("WEBGL_debug_renderer_info"))&&(l.device.gpu=i.getParameter(t.UNMASKED_RENDERER_WEBGL))),navigator.hardwareConcurrency&&(l.device.cores=navigator.hardwareConcurrency),(window.hasOwnProperty("ontouchstart")||window.DocumentTouch&&document instanceof window.DocumentTouch||0<navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints)&&(l.device.touch=!0,l.device.max_touch_points=navigator.maxTouchPoints),"object"==typeof navigator.connection&&(l.device.connection.type=navigator.connection.effectiveType||null,navigator.connection.downlink&&(l.device.connection.speed=navigator.connection.downlink+" Mbps")),n.remove(),s.remove(),r.remove(),l},satus.events.add("render",function(e,s){s.contextMenu&&e.addEventListener("contextmenu",function(e){var t=e.clientX,n=e.clientY,a=satus.render({component:"modal",variant:"contextmenu",parent:s});return window.innerWidth-t<200&&(t=window.innerWidth-200),a.inner.style.left=t+"px",a.inner.style.top=n+"px",satus.render(s.contextMenu,a.inner),e.preventDefault(),e.stopPropagation(),!1})}),satus.events.add("render",function(e,t){function n(e){var t=document.createElement("span"),n=this.getBoundingClientRect(),a=e.clientX-n.left,e=e.clientY-n.top,n=Math.sqrt(Math.pow(2*n.width,2)+Math.pow(2*n.height,2));t.className="satus-pluviam",t.style.left=a-n/2+"px",t.style.top=e-n/2+"px",t.style.width=n+"px",t.style.height=n+"px",this.appendChild(t),setTimeout(function(){t.remove()},1e3)}!0===t.pluviam&&(e.addEventListener("mousedown",n),e.addEventListener("mouseover",n))}),satus.events.add("render",function(e,t){!0===t.sortable&&e.addEventListener("mousedown",function(e){if(0!==e.button)return!1;var o=this,t=this.getBoundingClientRect(),n=e.clientX,a=e.clientY,s=e.clientX-t.left,r=e.clientY-t.top,i=satus.clone(this),l=this.parentNode.children,u=!1;function c(e){!1===u&&(4<Math.abs(e.clientX-n)||4<Math.abs(e.clientY-a))&&(u=!0,o.classList.add("satus-sortable__chosen"),o.parentNode.appendChild(i)),i.style.transform="translate("+(e.clientX-s)+"px, "+(e.clientY-r)+"px)"}function d(e){var t=e.target,n=t.parentNode,e=e.layerY/(t.offsetHeight/100);e<50&&t.previousSibling!==o||50<=e&&t.nextSibling===o?n.insertBefore(o,t):n.insertBefore(o,t.nextSibling)}i.classList.add("satus-sortable__ghost"),window.addEventListener("mousemove",c,{passive:!0,capture:!0}),window.addEventListener("mouseup",function e(t){o.classList.remove("satus-sortable__chosen"),i.remove(),window.removeEventListener("mousemove",c,!0),window.removeEventListener("mouseup",e,!0);for(var n=0,a=l.length;n<a;n++){var s=l[n];s!==o&&s.removeEventListener("mouseover",d)}return o.dispatchEvent(new CustomEvent("sort")),t.stopPropagation(),!1},{passive:!0,capture:!0});for(var p=0,h=l.length;p<h;p++){var m=l[p];m!==o&&m.addEventListener("mouseover",d)}return e.stopPropagation(),e.preventDefault(),!1})});